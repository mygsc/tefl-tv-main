function main(){mp4=document.getElementById("mp4"),webm=document.getElementById("webm"),vidMp4Src=mp4.src,vidWebmSrc=webm.src,vidMp4Src=vidMp4Src.replace(".mp4",""),vidWebmSrc=vidWebmSrc.replace(".webm",""),retry=document.getElementById("retry-error"),loader=document.getElementById("loader"),seekSlider=document.getElementById("seek-slider"),highQual=document.getElementById("high-quality"),normalQual=document.getElementById("normal-quality"),lowQual=document.getElementById("low-quality"),mediaPlayer=document.getElementById("media-video"),videoControls=document.getElementById("vid-controls"),playPauseBtn=document.getElementById("play-pause"),muteBtn=document.getElementById("mute-icon"),bufferedAmount=document.getElementById("buffered"),currentProgress=document.getElementById("current-progress"),videoTimeLenght=document.getElementById("video-time-lenght"),volumeStatus=document.getElementById("volume"),_time=document.getElementById("time"),fullscreenVid=document.getElementById("fullscreen"),progWidth=document.getElementById("progressbar").offsetWidth,progress=document.getElementById("current-progress").offsetWidth,play=document.getElementById("play-icon"),mediaPlayer.controls=!1,playPauseBtn.addEventListener("click",togglePlayPause,!1),muteBtn.addEventListener("click",toggleMute,!1),highQual.addEventListener("click",highQuality,!1),normalQual.addEventListener("click",normalQuality,!1),lowQual.addEventListener("click",lowQuality,!1),retry.addEventListener("click",normalQuality,!1),bufferedAmount.addEventListener("click",vidSeek,!1),seekSlider.addEventListener("change",vidSeek,!1),$(normalQual).css({color:"#fc8b02"}),mediaPlayer.addEventListener("timeupdate",seekTimeUpdate,!1),mediaPlayer.addEventListener("play",function(){changeButtonType(playPauseBtn,"player pause","Pause")},!1),mediaPlayer.addEventListener("pause",function(){changeButtonType(playPauseBtn,"player play","Play")},!1),mediaPlayer.addEventListener("volumechange",function(){mediaPlayer.muted?changeButtonType(muteBtn,"player sound-off","Unmute"):changeButtonType(muteBtn,"player sound-on","Mute")},!1),mediaPlayer.addEventListener("ended",function(){$(".play-icon").fadeIn(500),videoPlaying=!1},!1),mediaPlayer.addEventListener("loadedmetadata",metadata,!1),fullscreenVid.addEventListener("click",toggleFullScreen,!1),volumeStatus.addEventListener("change",setVolume,!1),mediaPlayer.addEventListener("error",hasError,!1),mediaPlayer.addEventListener("canplay",canPlayVideo,!1),mediaPlayer.addEventListener("canplaythrough",canPlayVideo,!1)}function metadata(){timeDuration=Math.round(mediaPlayer.duration),timeSettings(),adsOn()}function checkInternet(){var e=navigator.onLine;return e}function loadBuffer(){mediaPlayer.buffered.length>0&&(buffPercent=mediaPlayer.buffered.end(0),percentLoaded=Math.floor(buffPercent/mediaPlayer.duration*100),percentageloaded=Math.round(percentLoaded/percentLoaded*100),$("#buffered").css({width:percentLoaded+"%"})),mediaPlayer.networkState===mediaPlayer.NETWORK_LOADING?($(".play-icon").fadeOut(),$(loader).fadeIn()):(mediaPlayer.networkState===mediaPlayer.HAVE_ENOUGH_DATA,$(loader).fadeOut())}function canPlayVideo(){$(loader).fadeOut(),loadBuffer()}function onWaitingBuffer(){}function hasError(){$("#error-video").html("An error occured please try later.").css({color:"#fff"})}function seekingNewPosition(){var e=mediaPlayer.duration*(seekSlider.value/100);mediaPlayer.currentTime=e}function changeVidQuality(e,t){$("#error-video").fadeIn(),$("#error-video").html("Please wait...").css({color:"#fff"});var o;o=vidMp4Src+e,mp4.setAttribute("src",o),o=vidWebmSrc+t,webm.setAttribute("src",o),mediaPlayer.canPlayType("video/mp4")?mp4.addEventListener("error",checkVideo,!1):mediaPlayer.canPlayType("video/webm")&&webm.addEventListener("error",checkVideo,!1),mediaPlayer.pause(),mediaPlayer.load(),mediaPlayer.play(),mediaPlayer.addEventListener("canplaythrough",function(){$("#error-video").fadeOut()},!1),mediaPlayer.addEventListener("canplay",function(){$("#error-video").fadeOut()},!1)}function highQuality(e){e.preventDefault(),$("#play-icon").fadeOut("fast"),$(loader).fadeIn("fast"),$(highQual).css({color:"#fc8b02"}),$(normalQual).css({color:"#fff"}),$(lowQual).css({color:"#fff"}),changeVidQuality("_hd.mp4","_hd.webm","_hd.ogg")}function normalQuality(e){e.preventDefault(),$("#play-icon").fadeOut("fast"),$(loader).fadeIn("fast"),$(highQual).css({color:"#fff"}),$(normalQual).css({color:"#fc8b02"}),$(lowQual).css({color:"#fff"}),changeVidQuality(".mp4",".webm",".ogg")}function lowQuality(e){e.preventDefault(),$("#play-icon").fadeOut("fast"),$(loader).fadeIn("fast"),$(highQual).css({color:"#fff"}),$(normalQual).css({color:"#fff"}),$(lowQual).css({color:"#fc8b02"}),changeVidQuality("_low.mp4","_low.webm","_low.ogg")}function checkVideo(){$(loader).fadeOut("fast"),$("#error-video").html("Video is not ready please try later.").css({color:"#fff"})}function hideLoader(){$(loader).fadeIn()}function vidSeek(){var e=mediaPlayer.duration*(seekSlider.value/100);mediaPlayer.currentTime=e}function seekTimeUpdate(){updProgWidth=mediaPlayer.currentTime*(100/mediaPlayer.duration),$("#current-progress").css({width:updProgWidth+"%",position:"relative"}),handle=Math.floor(updProgWidth/mediaPlayer.duration*progWidth),$("#button-progress").css({left:"99%",position:"absolute"}),console.log(handle);var e=mediaPlayer.currentTime*(100/mediaPlayer.duration);seekSlider.value=e,curHrs=Math.floor(mediaPlayer.currentTime/3600),curMin=Math.floor(mediaPlayer.currentTime/60),curSec=Math.floor(mediaPlayer.currentTime-60*curMin),durHrs=Math.floor(curMin/60),durMin=Math.floor(mediaPlayer.duration/60),durSec=Math.floor(mediaPlayer.duration-60*durMin),10>curSec&&(curSec="0"+curSec),10>durSec&&(durSec="0"+durSec),_time.innerHTML=curHrs+":"+curMin+":"+curSec+"/"+durHrs+":"+durMin+":"+durSec,_time.innerHTML=timeDuration>=3600?curHrs+":"+curMin+":"+curSec+"/"+durHrs+":"+durMin+":"+durSec:curMin+":"+curSec+"/"+durMin+":"+durSec,Math.floor(mediaPlayer.currentTime)==adsTime&&$(".advertisement").fadeIn(2e3),checkVid(),loadBuffer()}function checkVid(){isNaN(durSec)?($(".ctime").html(""),$("#error-video").fadeIn(),$(loader).fadeOut("fast"),seekSlider.value=0):$(loader).fadeOut("fast")}function toggleFullScreen(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():mediaPlayer.requestFullscreen?mediaPlayer.requestFullscreen():mediaPlayer.msRequestFullscreen?mediaPlayer.msRequestFullscreen():mediaPlayer.mozRequestFullScreen?videoControls.mozRequestFullScreen():mediaPlayer.webkitRequestFullscreen&&mediaPlayer.webkitRequestFullscreen()}function adsOn(){ads=adsTime/timeDuration*100;Math.floor(progWidth/adsTime);$('<div class="ads"> <div style="z-index:1111;background:yellow;position:absolute;right:0;height:100%;width:5px;"></div></div>').prependTo("#progress-ads-line"),$(".ads").css({"border-radius":"2px",background:"transparent",width:ads+"%",height:"100%",position:"absolute"})}function timeSettings(){vidMinLenght=Math.floor(mediaPlayer.duration/60),vidSecLenght=Math.round(mediaPlayer.duration-60*vidMinLenght),hrs=Math.floor(vidMinLenght/60),mins=vidMinLenght-60*hrs,secs=Math.floor(mediaPlayer.duration-60*vidMinLenght),10>secs&&(secs="0"+secs),10>vidSecLenght&&(vidSecLenght="0"+vidSecLenght),10>mins&&(mins="0"+mins),10>hrs&&(hrs="0"+hrs),$(".ctime").html(3600>timeDuration?vidMinLenght+":"+vidSecLenght:hrs+":"+mins+":"+secs)}function toggleShowHanldeProgress(){mediaPlayer.paused||mediaPlayer.ended?$("#button-progress").fadeIn():$("#button-progress").fadeOut()}function togglePlayPause(){mediaPlayer.paused||mediaPlayer.ended?(toggleShowHanldeProgress(),changeButtonType(playPauseBtn,"player pause","Pause"),mediaPlayer.play(),videoPlaying=!0,playIcon=!1,$(".play-icon").fadeOut(500)):(changeButtonType(playPauseBtn,"player play","Play"),toggleShowHanldeProgress(),mediaPlayer.pause(),videoPlaying=!1,playIcon=!0,$(".play-icon").fadeIn(500))}function stopPlayer(){mediaPlayer.pause(),mediaPlayer.currentTime=0}function changeVolume(e){if("-"===e){var t=Math.floor(10);volume-=t,mediaPlayer.volume-=.1,$("#volume-vertical").css({height:volume+"%",background:"#337AB7"}),$(".volume-static-holder").css({overflow:"hidden"}),volume<10&&(volume=10,$("#volume-vertical").css({height:volume+"%",background:"#337AB7"}),$("#volume-button").css({background:"red"}),mediaPlayer.volume=0)}else{var o=Math.floor(10);volume+=o,mediaPlayer.volume+=.1,$("#volume-vertical").css({height:volume+"%",background:"#337AB7"}),$(".volume-static-holder").css({overflow:"hidden"}),volume>90&&(volume=100,$("#volume-vertical").css({height:volume+"%",background:"#337AB7"}),mediaPlayer.volume=1),volume>10&&$("#volume-button").css({background:"#fff"})}}function setVolume(){mediaPlayer.volume=volumeStatus.value/100}function toggleMute(){mediaPlayer.muted?(changeButtonType(muteBtn,"player sound-on","Mute"),mediaPlayer.muted=!1,volumeStatus.value=100):(changeButtonType(muteBtn,"player sound-off","Unmute"),mediaPlayer.muted=!0,volumeStatus.value=0)}function replayMedia(){resetPlayer(),mediaPlayer.play()}function updateProgressBar(e){var t=(Math.floor(100/mediaPlayer.duration*mediaPlayer.currentTime),Math.floor($(currentProgress).width()/progWidth*mediaPlayer.duration)),o=Math.floor(mediaPlayer.duration/60),r=Math.round(mediaPlayer.duration-60*o),a=Math.round(mediaPlayer.currentTime),n=0,d=Math.floor(t/3600),i=Math.floor(t/60),n=a-60*i;n>59&&(n=Math.floor(a-60*i),i=Math.floor(a/60),n=0),i>59&&(d=Math.floor(t/3600),i=0,n=0),updProgWidth=Math.floor(a/mediaPlayer.duration*progWidth),10>n&&(n="0"+n),10>vidSecLenght&&(vidSecLenght="0"+vidSecLenght),10>i&&(i="0"+i),10>d&&(d="0"+d),10>a&&(a="0"+a),1!=e&&($(currentProgress).css({width:updProgWidth+"px"}),$("#button-progress").css({left:updProgWidth-$("#button-progress").width()+"px"})),$(".ctime").html(Math.floor(mediaPlayer.duration)>=3600?d+":"+i+":"+n+"/"+hrs+":"+mins+":"+secs:i+":"+n+"/"+o+":"+r),n==adsTime&&$(".advertisement").fadeIn(2e3)}function changeButtonType(e,t,o){e.title=o,e.className=t}function loadVideo(){for(var e=0;e<arguments.length;e++){var t=arguments[e].split("."),o=t[t.length-1];if(canPlayVideo(o)){resetPlayer(),mediaPlayer.src=arguments[e],mediaPlayer.load();break}}}function canPlayVideo(e){var t=mediaPlayer.canPlayType("video/"+e);return""==t?!1:!0}function resetPlayer(){progress=0,mediaPlayer.currentTime=0,changeButtonType(playPauseBtn,"player play","Play")}function fullscreen(){videoFullScreen.request(document.getElementById("media-video"))}function LetProcessYourVolume(e){return volumeClick=!0,mouseY=$(".volume-static-holder").height()-(e.pageY-$(".volume-static-holder").offset().top),0>mouseY||mouseY>$(this).height()?(volumeClick=!1,!1):($("#volume-vertical").css({height:mouseY+"px"}),$("#volume-button").css({top:mouseY-$("#volume-button").height()/2+"px"}),mediaPlayer.volume=$("#volume-vertical").height()/$(this).height(),volumeY=$("#volume-vertical").height()/$(this).height(),void($("#volume-vertical").height()<15?($("#volume-button").css({background:"red"}),$("#volume-vertical").css("overflow","hidden")):$("#volume-button").css("background","#fff")))}function videoForwardBackward(e){mouseX=e.pageX-$("#current-progress").offset().left,currentTime=Math.floor(mouseX)/Math.floor(progWidth)*Math.floor(mediaPlayer.duration),mediaPlayer.currentTime=currentTime}function timeoutMouseMove(e){clearTimeout(timeout),timeout=setTimeout(function(){$("#controls").fadeOut(500),$("#ads-hide").css({bottom:"0px"})},e)}$("#controls").hide(),$("#ads-hide").hide(),$(document).ready(function(){$("#controls").fadeIn(),$("#loader").hide()}),document.addEventListener("DOMContentLoaded",function(){main()},!1);var mediaPlayer,percentageloaded,handle,timeout,progressHandle=!1,hideControls=!1,mouseOverPlayer=!1,progWidth,retry,mp4,webm,ogg,vidMp4Scr,vidWebmScr,vidOggScr,buffPercent,percentLoaded,loader,progress,hrs=0,mins=0,secs=0,tmpSecs=0,adsTime=7,ads=0,vidMinLenght=0,vidSecLenght=0,videoCurrentTime=0,playPauseBtn,timeDuration=0,muteBtn,playIcon=!1,replay,_time,curHrs,curMin,curSec,durHrs,durMin,durSec,progressBar,soundHover=!1,volumeHover=!1,currentTime=0,videoPlaying=!1,start=!1,error=!1,videoTimeLenght,volumes=0,volumeClick=!1,mouseX=0,mouseY=0,volumeY=0,volumeDrag=!1,progressbarClick=!1,updProgWidth=0,videoControls,volumeStatus,bufferedAmount,currentBuffered,currentProgress,playBtn,play,seekSlider,highQual,normalQual,lowQual,fullscreenVid,mouseMoving=!1,videoQuality={"9001p":"highres","1080p":"hd1080","720p":"hd720","480p":"large","360p":"medium","240p":"small","144p":"tiny"},player={volume:"10px",fullscreen:"12px",videoQuality:function(){return this.volume}};$("#media-video").bind("contextmenu",function(){return!1}),$("#media-video").bind("ended",function(){this.paused||this.pause()}),$("#media-video").bind("progress",function(){loadBuffer()}),$("#media-video").bind("loadeddata",function(){loadBuffer()}),$("#media-video").bind("canplaythrough",function(){loadBuffer()}),$("#media-video").bind("playing",function(){loadBuffer()}),$("#mute-icon").hover(function(){soundHover=!0,1==soundHover&&($(".volume").fadeIn(1e3),setTimeout(function(){$(".volume").fadeOut(500)},7e3))}),$(".volume, .volume-static-holder, #volume-vertical").hover(function(){soundHover=!1}),$(".volume").mouseleave(function(){0==soundHover&&$(".volume").fadeOut(1e3)}),$("#volume-vertical").mousedown(function(e){LetProcessYourVolume(e)}),$(".volume-static-holder").mousedown(function(e){LetProcessYourVolume(e)}),$("#progressbar").bind("mousedown",function(e){videoForwardBackward(e)}),$("#buffered").bind("mousedown",function(e){videoForwardBackward(e)}),$(currentProgress).bind("mousedown",function(e){videoForwardBackward(e)}),$("#button-progress").mousedown(function(){progressHandle=!0}),$("html, body").mouseup(function(){progressHandle=!1}),$("html, body").mousemove(function(e){1==progressHandle&&(mouseX=e.pageX-$("#current-progress").offset().left,currentTime=Math.floor(mouseX)/Math.floor(progWidth)*Math.floor(mediaPlayer.duration),currentTime>mediaPlayer.currentTime?mediaPlayer.currentTime+=2:mediaPlayer.currentTime-=2)}),$("#hd-setting").bind("click",function(){$(".hd-setting").toggle("show"),$(".share-video").fadeOut()}),$("#share-video").bind("click",function(){$(".share-video").toggle("show"),$(".hd-setting").fadeOut()}),$(".play-icon").bind("click",function(){togglePlayPause(),0==playIcon?($(this).fadeOut(500),playIcon=!0):$(".play-icon").fadeIn(500),$(".play-icon").fadeOut(500)}),$("#media-video").bind("click",function(){togglePlayPause(),1==playIcon?($(".play-icon").fadeIn(500),playIcon=!1):($(".play-icon").fadeOut(500),playIcon=!0)}),$(".close").bind("click",function(){$(".advertisement").fadeOut(500),$("#ads-hide").fadeIn()}),$("#ads-hide").bind("click",function(){$(".advertisement").fadeIn(1e3),$("#ads-hide").fadeOut()}),$("#media-video, #controls, .play-icon").mouseover(function(){mouseOverPlayer=!0}),$("#media-video, #controls, .play-icon").mouseleave(function(){mouseOverPlayer=!1}),$("html, body").mousemove(function(){mouseOverPlayer?($("#controls").fadeIn(500),hideControls=!1):($("#controls").fadeOut("fast"),hideControls=!0),timeoutMouseMove(5e3),$("#ads-hide").css({bottom:"50px"})});